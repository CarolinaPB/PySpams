<head lang="en">
  <meta charset="UTF-8">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.14/vue.js"></script>
  <style>

    form{
      margin-left: auto;
      margin-right: auto;
      max-width: 1500px;
    }
    span {
      display: block;
      margin: 3px 0;
      overflow: auto;
      padding: 0 3%;
      width: 98%;
    }

    fieldset{
      display: block;
      margin: 0;
      padding: 1%;
      width: calc(98% - 4px);
      border: 1px groove #bbb;
    }

    input[type='submit'] {
      float: left;
      margin: 10px 0;
      padding: 10px 40px;
    }


  </style>

</head>

<div id="repeatfields">
  <h1>Admixture model</h1>
  <form action="{{url_for("handle_input2")}}" method="POST" enctype="multipart/form-data">
    <div class="border">
      <label>
          <span >Number of loci</span><br>
          <input name="field.numloci"/> <br>
      </label><br>
      <label>
          <span >Sampling vector</span><br>
          <input name="field.sampvector"/> <br>
      </label><br>
      <label>
          <span >Initial deme sizes</span><br>
          <input name="field.demesizes"/> <br>
      </label><br>
    </div>

    </form>
    <form>
    <div class="border" v-for="field in fields">
      <label>
          <span >Initial migration matrix</span><br>
          <input name="file" type="file"/> <br>
      </label><br>
      <label>
          <span >Time of change</span><br>
          <input v-model="field.timechange"/> <br>
      </label><br>
      <label>
          <span >Deme sizes</span><br>
          <input v-model="field.demesizes"/> <br>
      </label><br>
    </div>
  </form>

  <button @click="AddField">
    New matrix
  </button>

</div>
   

<script>
new Vue({
  el: '#repeatfields',
  data: {
    fields: [{ timechange:'', demesizes:'' }],
  },
  created: function() {
  },
  methods: {
    AddField: function () {
      this.fields.push({ timechange: '',demesizes: ''});
    }
  }
});
</script>

      <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

      <script type='text/javascript' src='http://formfieldrepeater.com/wp-content/themes/ac_timber/assets/js/jquery.ac-form-field-repeater.js?ver=1.1'></script>
